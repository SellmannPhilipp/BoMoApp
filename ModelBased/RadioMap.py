import math

#Coordinates

coordinates = [
    (-23.5, -10.75, 0.0), 
    (-22.0, -10.75, 0.0), 
    (-20.5, -10.75, 0.0), 
    (-19.0, -10.75, 0.0), 
    (-17.5, -10.75, 0.0), 
    (-16.0, -10.75, 0.0), 
    (-14.5, -10.75, 0.0), 
    (-13.0, -10.75, 0.0), 
    (-11.5, -10.75, 0.0), 
    (-10.0, -10.75, 0.0), 
    (-8.5, -10.75, 0.0), 
    (-7.0, -10.75, 0.0), 
    (-5.5, -10.75, 0.0), 
    (-4.0, -10.75, 0.0), 
    (-2.5, -10.75, 0.0), 
    (-1.0, -10.75, 0.0), 
    (-23.5, -9.25, 0.0), 
    (-22.0, -9.25, 0.0), 
    (-20.5, -9.25, 0.0), 
    (-19.0, -9.25, 0.0), 
    (-17.5, -9.25, 0.0), 
    (-16.0, -9.25, 0.0), 
    (-14.5, -9.25, 0.0), 
    (-13.0, -9.25, 0.0), 
    (-11.5, -9.25, 0.0), 
    (-10.0, -9.25, 0.0), 
    (-8.5, -9.25, 0.0), 
    (-7.0, -9.25, 0.0), 
    (-5.5, -9.25, 0.0), 
    (-4.0, -9.25, 0.0), 
    (-2.5, -9.25, 0.0), 
    (-1.0, -9.25, 0.0), 
    (2.0, -18.25, 0.0), 
    (2.0, -16.75, 0.0), 
    (2.0, -15.25, 0.0), 
    (2.0, -13.75, 0.0), 
    (2.0, -12.25, 0.0), 
    (2.0, -10.75, 0.0), 
    (2.0, -9.25, 0.0), 
    (2.0, -7.75, 0.0), 
    (2.0, -6.25, 0.0), 
    (2.0, -4.75, 0.0), 
    (2.0, -3.25, 0.0),
    (2.0, -1.75, 0.0), 
    (0.5, -18.25, 0.0), 
    (0.5, -16.75, 0.0), 
    (0.5, -15.25, 0.0), 
    (0.5, -13.75, 0.0), 
    (0.5, -12.25, 0.0), 
    (0.5, -10.75, 0.0), 
    (0.5, -9.25, 0.0), 
    (0.5, -7.75, 0.0), 
    (0.5, -6.25, 0.0), 
    (0.5, -4.75, 0.0), 
    (0.5, -3.25, 0.0), 
    (0.5, -1.75, 0.0), 
    (0.5, 0.5, 0.0), 
    (0.5, 2.0, 0.0), 
    (0.5, 3.5, 0.0), 
    (0.5, 5.0, 0.0), 
    (0.5, 6.5, 0.0), 
    (0.5, 8.0, 0.0), 
    (0.5, 9.5, 0.0), 
    (0.5, 11.0, 0.0), 
    (0.5, 12.5, 0.0), 
    (2.0, 12.5, 0.0), 
    (2.0, 11.0, 0.0), 
    (2.0, 9.5, 0.0), 
    (2.0, 8.0, 0.0), 
    (2.0, 6.5, 0.0), 
    (2.0, 5.0, 0.0), 
    (2.0, 3.5, 0.0), 
    (2.0, 2.0, 0.0), 
    (2.0, 0.5, 0.0), 
    (3.5, 3.5, 0.0), 
    (5.0, 3.5, 0.0), 
    (6.5, 3.5, 0.0), 
    (8.0, 3.5, 0.0), 
    (9.5, 3.5, 0.0), 
    (11.0, 3.5, 0.0), 
    (12.5, 3.5, 0.0), 
    (14.0, 3.5, 0.0), 
    (15.5, 3.5, 0.0), 
    (17.0, 3.5, 0.0), 
    (18.5, 3.5, 0.0), 
    (20.0, 3.5, 0.0), 
    (21.5, 3.5, 0.0), 
    (23.0, 3.5, 0.0), 
    (24.5, 3.5, 0.0), 
    (26.0, 3.5, 0.0), 
    (27.5, 3.5, 0.0), 
    (29.0, 3.5, 0.0), 
    (30.5, 3.5, 0.0), 
    (32.0, 3.5, 0.0), 
    (32.0, 5.0, 0.0), 
    (32.0, 6.5, 0.0), 
    (32.0, 8.0, 0.0), 
    (30.5, 8.0, 0.0), 
    (29.0, 8.0, 0.0), 
    (27.5, 8.0, 0.0), 
    (26.0, 8.0, 0.0), 
    (24.5, 8.0, 0.0), 
    (23.0, 8.0, 0.0), 
    (21.5, 8.0, 0.0), 
    (20.0, 8.0, 0.0), 
    (18.5, 8.0, 0.0), 
    (17.0, 8.0, 0.0), 
    (15.5, 8.0, 0.0), 
    (14.0, 8.0, 0.0), 
    (12.5, 8.0, 0.0), 
    (11.0, 8.0, 0.0), 
    (9.5, 8.0, 0.0), 
    (8.0, 8.0, 0.0), 
    (6.5, 8.0, 0.0), 
    (5.0, 8.0, 0.0), 
    (3.5, 8.0, 0.0), 
    (9.5, 6.5, 0.0), 
    (9.5, 5.0, 0.0), 
    (11.0, 5.0, 0.0), 
    (12.5, 5.0, 0.0), 
    (12.5, 6.5, 0.0), 
    (11.0, 6.5, 0.0), 
    (21.5, 6.5, 0.0), 
    (21.5, 5.0, 0.0), 
    (23.0, 5.0, 0.0), 
    (23.0, 6.5, 0.0), 
    (24.5, 6.5, 0.0), 
    (26.0, 6.5, 0.0), 
    (26.0, 5.0, 0.0), 
    (24.5, 5.0, 0.0), 
]

#Access Points

accessPoints = [
    ("00:14:BF:B1:7C:54", -23.626, -18.596, 0),
    ("00:16:B6:B7:5D:8F", -10.702, -18.596, 0),
    ("00:14:BF:B1:7C:57", 8.596, -14.62, 0),
    ("00:14:BF:B1:97:8D", 8.538, -9.298, 0),
    ("00:16:B6:B7:5D:9B", -1.93, -2.749, 0),
    ("00:14:6C:62:CA:A4", 4.035, -0.468, 0),
    ("00:14:BF:3B:C7:C6", 13.333, -2.69, 0),
    ("00:14:BF:B1:97:8A", 21.17, -2.69, 0),
    ("00:14:BF:B1:97:81", 32.398, -2.69, 0),
    ("00:16:B6:B7:5D:8C", 32.573, 13.86, 0),
    ("00:11:88:28:5E:E0", 7.135, 6.023, 0),
]

#Function to calculate euclidian distance

def euclidan_distance(p1x, p1y, p1z, p2x, p2y, p2z):
    return round(math.sqrt((p1x - p2x) ** 2 + (p1y - p2y) ** 2 + (p1z - p2z) **2), 2)

#Function to calculate signal strength

def signalStrength(pdo, d, distance):
    return pdo - 10 * 3.415 * math.log10(distance / d)

def createFile(pdo, d):
    with open("Simulation.txt", "a") as datei:
        for i in range(0, len(coordinates)):
            output = "" #String for output
            output += str(coordinates[i][0]) + ", " #Add x-coordinate to string
            output += str(coordinates[i][1]) + ", " #Add y-coordinate to string
            output += str(coordinates[i][2]) + ", " #Add z-coordinate to string

            for j in range(0, len(accessPoints)):
                output += accessPoints[j][0] + ", " #Add Acces Point to string
                distance = euclidan_distance(coordinates[i][0], coordinates[i][1], coordinates[i][2], accessPoints[j][1], accessPoints[j][2], accessPoints[j][3])
                output += str(d) + ", " #Add distance to string
                signal = signalStrength(pdo, d, distance)
                output += str(signal) + ", " #Add signal strength to string

            datei.write(output + "\n")


createFile(-33.77, 1)